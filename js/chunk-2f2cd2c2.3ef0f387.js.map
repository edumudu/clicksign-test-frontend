{"version":3,"sources":["webpack:///./src/views/ContactCreateOrEdit.vue","webpack:///./src/views/ContactCreateOrEdit.vue?22d3","webpack:///./src/views/ContactCreateOrEdit.vue?23d6","webpack:///./src/views/ContactCreateOrEdit.vue?e3dd","webpack:///./src/components/BaseModal.vue?86a8","webpack:///./src/views/ContactCreateOrEdit.vue?189a","webpack:///./src/components/BaseModal.vue","webpack:///./src/components/BaseModal.vue?d14d","webpack:///./src/components/BaseModal.vue?95ab","webpack:///./src/components/BaseModal.vue?2bbb"],"names":["class","onSubmit","onCancel","header","actions","$style","outline","type","disabled","canSubmit","contact","name","label","autofocus","email","phone","phoneField","useForm","emit","router","route","createContact","findContact","updateContact","contactId","Number","params","isEditing","value","Object","values","some","Boolean","id","push","components","BaseModal","AppInput","AppButton","_","cssModules","__cssModules","render","module","exports","wrapper","onClose","content","body","useActions","useKeymaps","keymap","Escape","Esc","onKeydown","event","key","keys","includes","handler","window","addEventListener","removeEventListener","emits"],"mappings":"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","file":"js/chunk-2f2cd2c2.3ef0f387.js","sourcesContent":["<template>\n  <form @submit.prevent=\"onSubmit\">\n    <BaseModal @close=\"onCancel\">\n      <template #header>\n        Criar novo contato\n      </template>\n\n      <div class=\"flex flex-col\">\n        <AppInput\n          v-model=\"contact.name\"\n          label=\"Nome\"\n          autofocus\n        />\n\n        <AppInput\n          v-model=\"contact.email\"\n          label=\"E-mail\"\n          type=\"email\"\n        />\n\n        <AppInput\n          v-model=\"contact.phone\"\n          label=\"Telefone\"\n          type=\"tel\"\n          :class=\"$style.phoneField\"\n        />\n      </div>\n\n      <template #actions>\n        <div\n          class=\"flex justify-end\"\n          :class=\"$style.actions\"\n        >\n          <AppButton\n            outline\n            @click=\"onCancel\"\n          >\n            Cancelar\n          </AppButton>\n\n          <AppButton\n            type=\"submit\"\n            :disabled=\"!canSubmit\"\n          >\n            Salvar\n          </AppButton>\n        </div>\n      </template>\n    </BaseModal>\n  </form>\n</template>\n\n<script lang=\"ts\">\nimport {\n  defineComponent,\n  ref,\n  computed,\n  SetupContext,\n} from 'vue';\nimport { useRouter, useRoute } from 'vue-router';\n\nimport { useContacts, CreateDto } from '@/store/contact';\n\nimport BaseModal from '@/components/BaseModal.vue';\nimport AppInput from '@/components/AppInput.vue';\nimport AppButton from '@/components/AppButton.vue';\nimport { Contact } from '@/types/contact';\n\nconst useForm = (emit: SetupContext['emit']) => {\n  const router = useRouter();\n  const route = useRoute();\n  const { createContact, findContact, updateContact } = useContacts();\n\n  const contactId = computed(() => Number(route.params.contactId));\n  const isEditing = computed(() => !!contactId.value);\n\n  const contact = ref<CreateDto | Contact>((isEditing.value && findContact(contactId.value)) || {\n    name: '',\n    email: '',\n    phone: '',\n  });\n\n  const canSubmit = computed(() => Object.values(contact.value).some(Boolean));\n\n  const onSubmit = () => {\n    let id = null;\n\n    if (isEditing.value) {\n      updateContact(Number(contactId.value), contact.value);\n    } else {\n      id = createContact(contact.value).id;\n    }\n\n    emit('highlight-id', id);\n    router.push({ name: 'ContactIndex' });\n  };\n\n  const onCancel = () => {\n    router.push({ name: 'ContactIndex' });\n  };\n\n  return {\n    contact,\n    canSubmit,\n\n    onSubmit,\n    onCancel,\n  };\n};\n\nexport default defineComponent({\n  name: 'PageContactCreate',\n\n  components: {\n    BaseModal,\n    AppInput,\n    AppButton,\n  },\n\n  setup(_, { emit }) {\n    return {\n      ...useForm(emit),\n    };\n  },\n});\n</script>\n\n<style lang=\"scss\" module>\n.actions {\n  gap: 1rem;\n}\n\n.phoneField {\n  max-width: 128px;\n}\n</style>\n","\nimport {\n  defineComponent,\n  ref,\n  computed,\n  SetupContext,\n} from 'vue';\nimport { useRouter, useRoute } from 'vue-router';\n\nimport { useContacts, CreateDto } from '@/store/contact';\n\nimport BaseModal from '@/components/BaseModal.vue';\nimport AppInput from '@/components/AppInput.vue';\nimport AppButton from '@/components/AppButton.vue';\nimport { Contact } from '@/types/contact';\n\nconst useForm = (emit: SetupContext['emit']) => {\n  const router = useRouter();\n  const route = useRoute();\n  const { createContact, findContact, updateContact } = useContacts();\n\n  const contactId = computed(() => Number(route.params.contactId));\n  const isEditing = computed(() => !!contactId.value);\n\n  const contact = ref<CreateDto | Contact>((isEditing.value && findContact(contactId.value)) || {\n    name: '',\n    email: '',\n    phone: '',\n  });\n\n  const canSubmit = computed(() => Object.values(contact.value).some(Boolean));\n\n  const onSubmit = () => {\n    let id = null;\n\n    if (isEditing.value) {\n      updateContact(Number(contactId.value), contact.value);\n    } else {\n      id = createContact(contact.value).id;\n    }\n\n    emit('highlight-id', id);\n    router.push({ name: 'ContactIndex' });\n  };\n\n  const onCancel = () => {\n    router.push({ name: 'ContactIndex' });\n  };\n\n  return {\n    contact,\n    canSubmit,\n\n    onSubmit,\n    onCancel,\n  };\n};\n\nexport default defineComponent({\n  name: 'PageContactCreate',\n\n  components: {\n    BaseModal,\n    AppInput,\n    AppButton,\n  },\n\n  setup(_, { emit }) {\n    return {\n      ...useForm(emit),\n    };\n  },\n});\n","import { render } from \"./ContactCreateOrEdit.vue?vue&type=template&id=8f5d36b0\"\nimport script from \"./ContactCreateOrEdit.vue?vue&type=script&lang=ts\"\nexport * from \"./ContactCreateOrEdit.vue?vue&type=script&lang=ts\"\n\nconst cssModules = script.__cssModules = {}\nimport style0 from \"./ContactCreateOrEdit.vue?vue&type=style&index=0&id=8f5d36b0&lang=scss&module=true\"\ncssModules[\"$style\"] = style0\nscript.render = render\n\nexport default script","export { default } from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-0-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-0-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-0-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-0-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./ContactCreateOrEdit.vue?vue&type=style&index=0&id=8f5d36b0&lang=scss&module=true\"; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-0-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-0-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-0-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-0-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./ContactCreateOrEdit.vue?vue&type=style&index=0&id=8f5d36b0&lang=scss&module=true\"","export { default } from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-0-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-0-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-0-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./BaseModal.vue?vue&type=style&index=0&id=fbb3a602&lang=css&module=true\"; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-0-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-0-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-0-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./BaseModal.vue?vue&type=style&index=0&id=fbb3a602&lang=css&module=true\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"actions\":\"ContactCreateOrEdit_actions_2hlfQ\",\"phoneField\":\"ContactCreateOrEdit_phoneField_2b395\"};","<template>\n  <div\n    :class=\"$style.wrapper\"\n    @click.prevent=\"onClose\"\n  >\n    <div\n      :class=\"$style.content\"\n      @click.stop\n    >\n      <div :class=\"$style.header\">\n        <slot name=\"header\" />\n      </div>\n\n      <div :class=\"$style.body\">\n        <slot />\n      </div>\n\n      <div :class=\"$style.actions\">\n        <slot name=\"actions\" />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, onBeforeUnmount } from 'vue';\n\nconst useActions = (emit: (event: 'close') => void) => {\n  const onClose = () => {\n    emit('close');\n  };\n\n  return {\n    onClose,\n  };\n};\n\nconst useKeymaps = (emit: (event: 'close') => void) => {\n  const { onClose } = useActions(emit);\n\n  const keymap = {\n    Escape: onClose,\n    Esc: onClose,\n  };\n\n  const onKeydown = (event: KeyboardEvent) => {\n    const { key } = event;\n\n    if (!Object.keys(keymap).includes(key)) return;\n\n    const handler = keymap[key as keyof typeof keymap];\n\n    handler();\n  };\n\n  window.addEventListener('keydown', onKeydown);\n\n  onBeforeUnmount(() => {\n    window.removeEventListener('keydown', onKeydown);\n  });\n};\n\nexport default defineComponent({\n  name: 'BaseModal',\n  emits: ['close'],\n\n  setup(_, { emit }) {\n    useKeymaps(emit);\n\n    return {\n      ...useActions(emit),\n    };\n  },\n});\n</script>\n\n<style lang=\"css\" module>\n.wrapper {\n  position: fixed;\n  inset: 0;\n  background: rgba(0, 0, 0, 0.5);\n  display: grid;\n  place-items: center;\n  padding: 0 0.5rem;\n}\n\n.content {\n  background: var(--white);\n  border-radius: 1rem;\n  width: 100%;\n  max-width: 432px;\n}\n\n.body {\n  padding: 1.375rem 1.5rem;\n  min-height: 92px;\n}\n\n.header {\n  font-size: 1rem;\n  color: var(--text-color);\n  padding: 1rem;\n  border-bottom: 2px solid var(--gray);\n}\n\n.actions {\n  padding: 0.937rem 1rem;\n  border-top: 2px solid var(--gray);\n}\n</style>\n","\nimport { defineComponent, onBeforeUnmount } from 'vue';\n\nconst useActions = (emit: (event: 'close') => void) => {\n  const onClose = () => {\n    emit('close');\n  };\n\n  return {\n    onClose,\n  };\n};\n\nconst useKeymaps = (emit: (event: 'close') => void) => {\n  const { onClose } = useActions(emit);\n\n  const keymap = {\n    Escape: onClose,\n    Esc: onClose,\n  };\n\n  const onKeydown = (event: KeyboardEvent) => {\n    const { key } = event;\n\n    if (!Object.keys(keymap).includes(key)) return;\n\n    const handler = keymap[key as keyof typeof keymap];\n\n    handler();\n  };\n\n  window.addEventListener('keydown', onKeydown);\n\n  onBeforeUnmount(() => {\n    window.removeEventListener('keydown', onKeydown);\n  });\n};\n\nexport default defineComponent({\n  name: 'BaseModal',\n  emits: ['close'],\n\n  setup(_, { emit }) {\n    useKeymaps(emit);\n\n    return {\n      ...useActions(emit),\n    };\n  },\n});\n","import { render } from \"./BaseModal.vue?vue&type=template&id=fbb3a602\"\nimport script from \"./BaseModal.vue?vue&type=script&lang=ts\"\nexport * from \"./BaseModal.vue?vue&type=script&lang=ts\"\n\nconst cssModules = script.__cssModules = {}\nimport style0 from \"./BaseModal.vue?vue&type=style&index=0&id=fbb3a602&lang=css&module=true\"\ncssModules[\"$style\"] = style0\nscript.render = render\n\nexport default script","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"BaseModal_wrapper_sRMm6\",\"content\":\"BaseModal_content_in3Lt\",\"body\":\"BaseModal_body_3egYP\",\"header\":\"BaseModal_header_1o-Pl\",\"actions\":\"BaseModal_actions_47NaU\"};"],"sourceRoot":""}